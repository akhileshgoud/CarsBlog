function getAllCars() {
    $.getJSON( "cars/getAllCars", function( data ) {
		//console.log(data);
		var htmlData = '<div class="panel panel-primary" id="data-tbl">'
                        +'<div class="panel-heading" id="panel-head">Latest Cars</div>'
                        +'<div class="panel-body" id="panel-content">'
                            +'<table class="table table-striped table-bordered">'
                                +'<tr>'
                                    +'<th>Model</th>'
                                    +'<th>Make</th>'
                                    +'<th>Year</th>'
                                    +'<th>Description</th>'
                                    +'<th>Update/Delete</th>'
                                +'</tr>' 
		for(var i =0;i<data.length;i++){
            htmlData += '<tr>'
                                +'<td>'+data[i].modelName+'</td>'
                                +'<td>'+data[i].makeName+'</td>'
                                +'<td>'+data[i].modelYear+'</td>'
                                +'<td>'+data[i].modelDesc+'</td>'
                                +'<td><button class="btn btn-info bodybtn" id="update-btn" data-toggle="modal" data-target="#myModal'+[i]+'">Update</button>'
                                +'<div class="modal fade" id="myModal'+[i]+'" role="dialog">'
                                    +'<div class="modal-dialog">'
                                      +'<div class="modal-content">'
                                        +'<div class="modal-header">'
                                          +'<button type="button" class="close" data-dismiss="modal">&times;</button>'
                                          +'<h4 class="modal-title">Update Details for '+data[i].makeName+' '+data[i].modelName+'</h4>'
                                        +'</div>'
                                        +'<div class="modal-body">'
                                          +'<form id="update-form" method="post" action="/cars/update">'
                                            +'<input type="text" name="modelid" value="'+data[i].modelId+'" hidden>'
                                            +'<div class="form-group">'
                                                +'<label for="modelname">Model Name: </label>'
                                                +'<input type="text" name="modelname" class="form-control" placeholder="'+data[i].modelName+'" value="'+data[i].modelName+'" readonly>'
                                            +'</div>'
                                            +'<div class="form-group">'
                                                +'<label for="makename">Make Name: </label>'
                                                +'<input type="text" name="makename" class="form-control" placeholder="'+data[i].makeName+'" value="'+data[i].makeName+'" readonly>'
                                            +'</div>'
                                            +'<div class="form-group">'
                                                +'<label for="modelyear">Model Year: </label>'
                                                +'<input type="text" name="modelyear" class="form-control" placeholder="'+data[i].modelYear+'">'
                                            +'</div>'
                                            +'<div class="form-group">'
                                                +'<label for="modeldesc">Description: </label>'
                                                +'<input type="textarea" name="modeldesc" class="form-control" placeholder="'+data[i].modelDesc+'">'
                                            +'</div>'
                                            +'<button type="button" data-dismiss="modal" class="btn btn-lg btn-default">Cancel</button>'
                                            +'<button type="submit" class="btn btn-lg btn-primary" id="updateBtn">Update</button>'
                                          +'</form>'
                                        +'</div>'
                                      +'</div>'
                                    +'</div>'
                                  +'</div>'
                                +'<button class="btn btn-danger bodybtn" id="delete-btn" data-toggle="modal" data-target="#delModal'+[i]+'">Delete</button>'
                                +'<div class="modal fade" id="delModal'+[i]+'" role="dialog">'
                                    +'<div class="modal-dialog">'
                                      +'<div class="modal-content">'
                                        +'<div class="modal-header">'
                                          +'<button type="button" class="close" data-dismiss="modal">&times;</button>'
                                          +'<h4 class="modal-title">Delete Car from database</h4>'
                                        +'</div>'
                                        +'<div class="modal-body">'
                                          +'<form id="delete-form" method="post" action="/cars/delete">'
                                            +'<h4>Are you sure you want to delete this car entry from database?</h3>'
                                            +'<h2>Model Name: '+data[i].modelName+'</h2><br>'
                                            +'<input type="text" name="modelname" value="'+data[i].modelName+'" hidden>'
                                            +'<br><button type="button" data-dismiss="modal" class="btn btn-lg btn-default">Cancel</button>'
                                            +'<button type="submit" class="btn btn-lg btn-danger" id="deleteBtn">Delete</button>'
                                          +'</form>'
                                        +'</div>'
                                      +'</div>'
                                    +'</div>'
                                  +'</div></td>'
                            +'</tr>'
		}
        htmlData += '</table>'
                    +'</div>'
                    +'</div>'
		$("#cars-data").html(htmlData);
        //$("#reset-btn").show();
  	});
}

$( document ).ready(function() {
  
    getAllCars();    

});